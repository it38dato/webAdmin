\# Информационный портал по базовым станциям Nokia и Ericsson



\## Task (Задача)



Необходимо установить и настроить веб-сервер "Информационный портал", в котором будет отображаться вся информация о базовых станциях Nokia и Ericsson.



\## Decision (Решение и процесс установки)



Веб-сервер изначально разворачивается для тестовой версии в среде Windows. Для настройки сервера используются `bat` скрипты.



\### Предварительные требования



1\.  \*\*Python:\*\* Необходимо скачать и установить Python (в данном примере используется версия 3.10).

2\.  \*\*Библиотеки:\*\* Все необходимые библиотеки указаны в файле `requirements.txt`. Этот файл должен находиться в той же папке, где запускается скрипт `checkDjango.bat`.



\### Пошаговая установка и запуск в Windows



Для автоматизации процесса используются следующие `bat` скрипты:



\#### 1. Проверка установки Python



```bash

checkPython.bat



\#### 2. Настройка окружения и создание проекта Django



Скрипт checkDjango.bat настраивает виртуальное окружение и создает проект Django.


1.  \*\*Настройка VENV \*\* В строке SET VENV\_NAME=... в скрипте можно задать свое название для виртуального окружения перед запуском.

2\.  \*\*Действия скрипта \*\* Устанавливает переменные окружения в домашнюю директорию, Запрашивает название проекта, Показывает команду для активации переменного окружения, Запрашивает логин и пароль для создания пользователя админ-панели.



```bash

checkDjango.bat



\#### 3. Тестовый запуск веб-сервера



Скрипт startDjango.bat используется для запуска сервера в тестовом режиме.



``` bash

startDjango.bat



1. \*\*Параметры запуска\*\* Скрипт запросит имя проекта (которое вы указали в checkDjango.bat) и IP-адрес.

2\. \*\*IP-адрес\*\* Если оставить пустым, по умолчанию используется http://127.0.0.1:8000.

3\. \*\*Внимание\*\* Если вы меняли параметр ALLOWED\_HOSTS = \[] в файле settings.py, необходимо указать соответствующий IP и порт при запросе скрипта (например, 127.0.0.1:8000).

4\. Остановить веб-сервер можно командой CTRL-c в терминале.



\#### 4. Работа с проектом и миграция данных



1. \*\*Использование готовых проектов\*\* В папке projects находятся готовые шаблоны веб-сервера. Для их использования необходимо: Заменить данные в файле Settings.py (библиотеки, ALLOWED\_HOSTS, INSTALLED\_APPS, TEMPLATES, DATABASES, customColorPalette, CKEDITOR\_5\_CONFIGS), Скопировать и переместить в ваш проект файлы из webAdminTemplate/urls.py, webPages/\*.html, webApp/\*.py, config.json с заменой существующих, Запустить startDjango.bat и ввести данные из вашего config.json.

2\. \*\*Миграция с Sqlite3 на MySQL\*\* По умолчанию проект использует БД sqlite3, но целевая БД — MySQL. Создание БД в MySQL:



``` sql

CREATE DATABASE your\_database\_name CHARACTER SET utf8mb4 COLLATE utf8mb4\_unicode\_ci;



Экспорт данных из Sqlite3 в JSON - Используется скрипт importDjangoSql1.bat в папке importDjangoSql.

Настройка settings.py для MySQL:



``` python

DATABASES = {

&nbsp;   'default': {

&nbsp;       'ENGINE': 'mysql.connector.django',

&nbsp;       'NAME': 'your\_database\_name',

&nbsp;       'USER': 'your\_user',     # Имя пользователя MySQL

&nbsp;       'PASSWORD': 'your\_password', # Пароль пользователя MySQL

&nbsp;       'HOST': 'localhost',     # Хост (обычно localhost или 127.0.0.1)

&nbsp;       'PORT': '3306',

&nbsp;       'OPTIONS': {

&nbsp;           'init\_command': "SET sql\_mode='STRICT\_TRANS\_TABLES'",

&nbsp;           'charset': 'utf8mb4',

&nbsp;           'use\_unicode': True,

&nbsp;       }

&nbsp;   }

}



Импорт данных из JSON в MySQL - Используется скрипт importDjangoSql2.bat. Примечание: Файл ImportExcelSqlite.py используется для добавления информации из Excel в sqlite3 при необходимости.



3\. \*\*Миграция проекта на Linux (боевой сервер)\*\* Для переноса тестового веб-сервера Django с Windows на боевую виртуальную машину Linux используется bash-скрипт migrateDjango.sh. Выдача прав на исполнение, Запуск скрипта и Проверка статуса сервиса:



``` bash

sudo chmod +X migrateDjango.sh

./migrateDjango.sh

sudo systemctl status bss\_portal.service



В Windows аналогичную миграцию выполняет скрипт migrateDjango.bat.



\#### 5. Дополнительные команды



1\. \*\*Создание суперпользователя (Админ-панель)\*\* Чтобы создать учетную запись для доступа к административной панели Django:



``` bash

python3 manage.py createsuperuser



Примечание: Папка testImportKeys и связанные с ней файлы (testLibrary.py, importKeys.py, config.txt) не актуальны для текущего веб-сервера, так как в проекте используется config.json и другая логика работы с конфигурацией.





